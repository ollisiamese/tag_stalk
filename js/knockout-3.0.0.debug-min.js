(function(){var DEBUG=true;(function(undefined){var window=this||(0,eval)("this"),document=window["document"],navigator=window["navigator"],jQuery=window["jQuery"],JSON=window["JSON"];(function(e){if(typeof require==="function"&&typeof exports==="object"&&typeof module==="object"){var t=module["exports"]||exports;e(t)}else if(typeof define==="function"&&define["amd"]){define(["exports"],e)}else{e(window["ko"]={})}})(function(e){function r(e,t){var r=e===null||typeof e in n;return r?e===t:false}function i(e){var n=this;if(e){t.utils.objectForEach(e,function(e,r){var i=t.extenders[e];if(typeof i=="function"){n=i(n,r)||n}})}return n}function c(e){t.bindingHandlers[e]={init:function(n,r,i,s,o){var u=function(){var t={};t[e]=r();return t};return t.bindingHandlers["event"]["init"].call(this,n,u,i,s,o)}}}function v(e,n,r,i){t.bindingHandlers[e]={init:function(e){t.utils.domData.set(e,d,{});return{controlsDescendantBindings:true}},update:function(e,s,o,u,a){var f=t.utils.domData.get(e,d),l=t.utils.unwrapObservable(s()),c=!r!==!l,h=!f.savedNodes,p=h||n||c!==f.didDisplayOnLastUpdate;if(p){if(h){f.savedNodes=t.utils.cloneNodes(t.virtualElements.childNodes(e),true)}if(c){if(!h){t.virtualElements.setDomNodeChildren(e,t.utils.cloneNodes(f.savedNodes))}t.applyBindingsToDescendants(i?i(a,l):a,e)}else{t.virtualElements.emptyNode(e)}f.didDisplayOnLastUpdate=c}}};t.expressionRewriting.bindingRewriteValidators[e]=false;t.virtualElements.allowedBindings[e]=true}var t=typeof e!=="undefined"?e:{};t.exportSymbol=function(e,n){var r=e.split(".");var i=t;for(var s=0;s<r.length-1;s++)i=i[r[s]];i[r[r.length-1]]=n};t.exportProperty=function(e,t,n){e[t]=n};t.version="3.0.0";t.exportSymbol("version",t.version);t.utils=function(){function f(e,n){if(t.utils.tagNameLower(e)!=="input"||!e.type)return false;if(n.toLowerCase()!="click")return false;var r=e.type;return r=="checkbox"||r=="radio"}var e=function(e,t){for(var n in e){if(e.hasOwnProperty(n)){t(n,e[n])}}};var n={},r={};var i=navigator&&/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";n[i]=["keyup","keydown","keypress"];n["MouseEvents"]=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];e(n,function(e,t){if(t.length){for(var n=0,i=t.length;n<i;n++)r[t[n]]=e}});var s={propertychange:true};var o=document&&function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");while(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0]){}return e>4?e:undefined}();var u=o===6,a=o===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},arrayIndexOf:function(e,t){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return null},arrayRemoveItem:function(e,n){var r=t.utils.arrayIndexOf(e,n);if(r>=0)e.splice(r,1)},arrayGetDistinctValues:function(e){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++){if(t.utils.arrayIndexOf(n,e[r])<0)n.push(e[r])}return n},arrayMap:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},arrayFilter:function(e,t){e=e||[];var n=[];for(var r=0,i=e.length;r<i;r++)if(t(e[r]))n.push(e[r]);return n},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,n,r){var i=t.utils.arrayIndexOf(t.utils.peekObservable(e),n);if(i<0){if(r)e.push(n)}else{if(!r)e.splice(i,1)}},extend:function(e,t){if(t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e},objectForEach:e,objectMap:function(e,t){if(!e)return e;var n={};for(var r in e){if(e.hasOwnProperty(r)){n[r]=t(e[r],r,e)}}return n},emptyDomNode:function(e){while(e.firstChild){t.removeNode(e.firstChild)}},moveCleanedNodesToContainerElement:function(e){var n=t.utils.makeArray(e);var r=document.createElement("div");for(var i=0,s=n.length;i<s;i++){r.appendChild(t.cleanNode(n[i]))}return r},cloneNodes:function(e,n){for(var r=0,i=e.length,s=[];r<i;r++){var o=e[r].cloneNode(true);s.push(n?t.cleanNode(o):o)}return s},setDomNodeChildren:function(e,n){t.utils.emptyDomNode(e);if(n){for(var r=0,i=n.length;r<i;r++)e.appendChild(n[r])}},replaceDomNodes:function(e,n){var r=e.nodeType?[e]:e;if(r.length>0){var i=r[0];var s=i.parentNode;for(var o=0,u=n.length;o<u;o++)s.insertBefore(n[o],i);for(var o=0,u=r.length;o<u;o++){t.removeNode(r[o])}}},fixUpContinuousNodeArray:function(e,t){if(e.length){t=t.nodeType===8&&t.parentNode||t;while(e.length&&e[0].parentNode!==t)e.splice(0,1);if(e.length>1){var n=e[0],r=e[e.length-1];e.length=0;while(n!==r){e.push(n);n=n.nextSibling;if(!n)return}e.push(r)}}return e},setOptionNodeSelectionState:function(e,t){if(o<7)e.setAttribute("selected",t);else e.selected=t},stringTrim:function(e){return e===null||e===undefined?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringTokenize:function(e,n){var r=[];var i=(e||"").split(n);for(var s=0,o=i.length;s<o;s++){var u=t.utils.stringTrim(i[s]);if(u!=="")r.push(u)}return r},stringStartsWith:function(e,t){e=e||"";if(t.length>e.length)return false;return e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return true;if(e.nodeType===11)return false;if(t.contains)return t.contains(e.nodeType===3?e.parentNode:e);if(t.compareDocumentPosition)return(t.compareDocumentPosition(e)&16)==16;while(e&&e!=t){e=e.parentNode}return!!e},domNodeIsAttachedToDocument:function(e){return t.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!t.utils.arrayFirst(e,t.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},registerEventHandler:function(e,n,r){var i=o&&s[n];if(!i&&typeof jQuery!="undefined"){if(f(e,n)){var u=r;r=function(e,t){var n=this.checked;if(t)this.checked=t.checkedStateBeforeEvent!==true;u.call(this,e);this.checked=n}}jQuery(e)["bind"](n,r)}else if(!i&&typeof e.addEventListener=="function")e.addEventListener(n,r,false);else if(typeof e.attachEvent!="undefined"){var a=function(t){r.call(e,t)},l="on"+n;e.attachEvent(l,a);t.utils.domNodeDisposal.addDisposeCallback(e,function(){e.detachEvent(l,a)})}else throw new Error("Browser doesn't support addEventListener or attachEvent")},triggerEvent:function(e,t){if(!(e&&e.nodeType))throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined"){var n=[];if(f(e,t)){n.push({checkedStateBeforeEvent:e.checked})}jQuery(e)["trigger"](t,n)}else if(typeof document.createEvent=="function"){if(typeof e.dispatchEvent=="function"){var i=r[t]||"HTMLEvents";var s=document.createEvent(i);s.initEvent(t,true,true,window,0,0,0,0,0,false,false,false,false,0,e);e.dispatchEvent(s)}else throw new Error("The supplied element doesn't support dispatchEvent")}else if(typeof e.fireEvent!="undefined"){if(f(e,t))e.checked=e.checked!==true;e.fireEvent("on"+t)}else throw new Error("Browser doesn't support triggering events")},unwrapObservable:function(e){return t.isObservable(e)?e():e},peekObservable:function(e){return t.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(e,n,r){if(n){var i=/\S+/g,s=e.className.match(i)||[];t.utils.arrayForEach(n.match(i),function(e){t.utils.addOrRemoveItem(s,e,r)});e.className=s.join(" ")}},setTextContent:function(e,n){var r=t.utils.unwrapObservable(n);if(r===null||r===undefined)r="";var i=t.virtualElements.firstChild(e);if(!i||i.nodeType!=3||t.virtualElements.nextSibling(i)){t.virtualElements.setDomNodeChildren(e,[document.createTextNode(r)])}else{i.data=r}t.utils.forceRefresh(e)},setElementName:function(e,t){e.name=t;if(o<=7){try{e.mergeAttributes(document.createElement("<input name='"+e.name+"'/>"),false)}catch(n){}}},forceRefresh:function(e){if(o>=9){var t=e.nodeType==1?e:e.parentNode;if(t.style)t.style.zoom=t.style.zoom}},ensureSelectElementIsRenderedCorrectly:function(e){if(o){var t=e.style.width;e.style.width=0;e.style.width=t}},range:function(e,n){e=t.utils.unwrapObservable(e);n=t.utils.unwrapObservable(n);var r=[];for(var i=e;i<=n;i++)r.push(i);return r},makeArray:function(e){var t=[];for(var n=0,r=e.length;n<r;n++){t.push(e[n])}return t},isIe6:u,isIe7:a,ieVersion:o,getFormFields:function(e,n){var r=t.utils.makeArray(e.getElementsByTagName("input")).concat(t.utils.makeArray(e.getElementsByTagName("textarea")));var i=typeof n=="string"?function(e){return e.name===n}:function(e){return n.test(e.name)};var s=[];for(var o=r.length-1;o>=0;o--){if(i(r[o]))s.push(r[o])}return s},parseJson:function(e){if(typeof e=="string"){e=t.utils.stringTrim(e);if(e){if(JSON&&JSON.parse)return JSON.parse(e);return(new Function("return "+e))()}}return null},stringifyJson:function(e,n,r){if(!JSON||!JSON.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(t.utils.unwrapObservable(e),n,r)},postJson:function(n,r,i){i=i||{};var s=i["params"]||{};var o=i["includeFields"]||this.fieldsIncludedWithJsonPost;var u=n;if(typeof n=="object"&&t.utils.tagNameLower(n)==="form"){var a=n;u=a.action;for(var f=o.length-1;f>=0;f--){var l=t.utils.getFormFields(a,o[f]);for(var c=l.length-1;c>=0;c--)s[l[c].name]=l[c].value}}r=t.utils.unwrapObservable(r);var h=document.createElement("form");h.style.display="none";h.action=u;h.method="post";for(var p in r){var d=document.createElement("input");d.name=p;d.value=t.utils.stringifyJson(t.utils.unwrapObservable(r[p]));h.appendChild(d)}e(s,function(e,t){var n=document.createElement("input");n.name=e;n.value=t;h.appendChild(n)});document.body.appendChild(h);i["submitter"]?i["submitter"](h):h.submit();setTimeout(function(){h.parentNode.removeChild(h)},0)}}}();t.exportSymbol("utils",t.utils);t.exportSymbol("utils.arrayForEach",t.utils.arrayForEach);t.exportSymbol("utils.arrayFirst",t.utils.arrayFirst);t.exportSymbol("utils.arrayFilter",t.utils.arrayFilter);t.exportSymbol("utils.arrayGetDistinctValues",t.utils.arrayGetDistinctValues);t.exportSymbol("utils.arrayIndexOf",t.utils.arrayIndexOf);t.exportSymbol("utils.arrayMap",t.utils.arrayMap);t.exportSymbol("utils.arrayPushAll",t.utils.arrayPushAll);t.exportSymbol("utils.arrayRemoveItem",t.utils.arrayRemoveItem);t.exportSymbol("utils.extend",t.utils.extend);t.exportSymbol("utils.fieldsIncludedWithJsonPost",t.utils.fieldsIncludedWithJsonPost);t.exportSymbol("utils.getFormFields",t.utils.getFormFields);t.exportSymbol("utils.peekObservable",t.utils.peekObservable);t.exportSymbol("utils.postJson",t.utils.postJson);t.exportSymbol("utils.parseJson",t.utils.parseJson);t.exportSymbol("utils.registerEventHandler",t.utils.registerEventHandler);t.exportSymbol("utils.stringifyJson",t.utils.stringifyJson);t.exportSymbol("utils.range",t.utils.range);t.exportSymbol("utils.toggleDomNodeCssClass",t.utils.toggleDomNodeCssClass);t.exportSymbol("utils.triggerEvent",t.utils.triggerEvent);t.exportSymbol("utils.unwrapObservable",t.utils.unwrapObservable);t.exportSymbol("utils.objectForEach",t.utils.objectForEach);t.exportSymbol("utils.addOrRemoveItem",t.utils.addOrRemoveItem);t.exportSymbol("unwrap",t.utils.unwrapObservable);if(!Function.prototype["bind"]){Function.prototype["bind"]=function(e){var t=this,n=Array.prototype.slice.call(arguments),e=n.shift();return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}}t.utils.domData=new function(){function r(r,i){var s=r[t];var o=s&&s!=="null"&&n[s];if(!o){if(!i)return undefined;s=r[t]="ko"+e++;n[s]={}}return n[s]}var e=0;var t="__ko__"+(new Date).getTime();var n={};return{get:function(e,t){var n=r(e,false);return n===undefined?undefined:n[t]},set:function(e,t,n){if(n===undefined){if(r(e,false)===undefined)return}var i=r(e,true);i[t]=n},clear:function(e){var r=e[t];if(r){delete n[r];e[t]=null;return true}return false},nextKey:function(){return e++ +t}}};t.exportSymbol("utils.domData",t.utils.domData);t.exportSymbol("utils.domData.clear",t.utils.domData.clear);t.utils.domNodeDisposal=new function(){function i(n,r){var i=t.utils.domData.get(n,e);if(i===undefined&&r){i=[];t.utils.domData.set(n,e,i)}return i}function s(n){t.utils.domData.set(n,e,undefined)}function o(e){var n=i(e,false);if(n){n=n.slice(0);for(var s=0;s<n.length;s++)n[s](e)}t.utils.domData.clear(e);if(typeof jQuery=="function"&&typeof jQuery["cleanData"]=="function")jQuery["cleanData"]([e]);if(r[e.nodeType])u(e)}function u(e){var t,n=e.firstChild;while(t=n){n=t.nextSibling;if(t.nodeType===8)o(t)}}var e=t.utils.domData.nextKey();var n={1:true,8:true,9:true};var r={1:true,9:true};return{addDisposeCallback:function(e,t){if(typeof t!="function")throw new Error("Callback must be a function");i(e,true).push(t)},removeDisposeCallback:function(e,n){var r=i(e,false);if(r){t.utils.arrayRemoveItem(r,n);if(r.length==0)s(e)}},cleanNode:function(e){if(n[e.nodeType]){o(e);if(r[e.nodeType]){var i=[];t.utils.arrayPushAll(i,e.getElementsByTagName("*"));for(var s=0,u=i.length;s<u;s++)o(i[s])}}return e},removeNode:function(e){t.cleanNode(e);if(e.parentNode)e.parentNode.removeChild(e)}}};t.cleanNode=t.utils.domNodeDisposal.cleanNode;t.removeNode=t.utils.domNodeDisposal.removeNode;t.exportSymbol("cleanNode",t.cleanNode);t.exportSymbol("removeNode",t.removeNode);t.exportSymbol("utils.domNodeDisposal",t.utils.domNodeDisposal);t.exportSymbol("utils.domNodeDisposal.addDisposeCallback",t.utils.domNodeDisposal.addDisposeCallback);t.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",t.utils.domNodeDisposal.removeDisposeCallback);(function(){function n(e){var n=t.utils.stringTrim(e).toLowerCase(),r=document.createElement("div");var i=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];var s="ignored<div>"+i[1]+e+i[2]+"</div>";if(typeof window["innerShiv"]=="function"){r.appendChild(window["innerShiv"](s))}else{r.innerHTML=s}while(i[0]--)r=r.lastChild;return t.utils.makeArray(r.lastChild.childNodes)}function r(e){if(jQuery["parseHTML"]){return jQuery["parseHTML"](e)||[]}else{var t=jQuery["clean"]([e]);if(t&&t[0]){var n=t[0];while(n.parentNode&&n.parentNode.nodeType!==11)n=n.parentNode;if(n.parentNode)n.parentNode.removeChild(n)}return t}}var e=/^(\s*)<!--(.*?)-->/;t.utils.parseHtmlFragment=function(e){return typeof jQuery!="undefined"?r(e):n(e)};t.utils.setHtml=function(e,n){t.utils.emptyDomNode(e);n=t.utils.unwrapObservable(n);if(n!==null&&n!==undefined){if(typeof n!="string")n=n.toString();if(typeof jQuery!="undefined"){jQuery(e)["html"](n)}else{var r=t.utils.parseHtmlFragment(n);for(var i=0;i<r.length;i++)e.appendChild(r[i])}}}})();t.exportSymbol("utils.parseHtmlFragment",t.utils.parseHtmlFragment);t.exportSymbol("utils.setHtml",t.utils.setHtml);t.memoization=function(){function n(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function r(){return n()+n()}function i(e,n){if(!e)return;if(e.nodeType==8){var r=t.memoization.parseMemoText(e.nodeValue);if(r!=null)n.push({domNode:e,memoId:r})}else if(e.nodeType==1){for(var s=0,o=e.childNodes,u=o.length;s<u;s++)i(o[s],n)}}var e={};return{memoize:function(t){if(typeof t!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var n=r();e[n]=t;return"<!--[ko_memo:"+n+"]-->"},unmemoize:function(t,n){var r=e[t];if(r===undefined)throw new Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{r.apply(null,n||[]);return true}finally{delete e[t]}},unmemoizeDomNodeAndDescendants:function(e,n){var r=[];i(e,r);for(var s=0,o=r.length;s<o;s++){var u=r[s].domNode;var a=[u];if(n)t.utils.arrayPushAll(a,n);t.memoization.unmemoize(r[s].memoId,a);u.nodeValue="";if(u.parentNode)u.parentNode.removeChild(u)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}();t.exportSymbol("memoization",t.memoization);t.exportSymbol("memoization.memoize",t.memoization.memoize);t.exportSymbol("memoization.unmemoize",t.memoization.unmemoize);t.exportSymbol("memoization.parseMemoText",t.memoization.parseMemoText);t.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",t.memoization.unmemoizeDomNodeAndDescendants);t.extenders={throttle:function(e,n){e["throttleEvaluation"]=n;var r=null;return t.dependentObservable({read:e,write:function(t){clearTimeout(r);r=setTimeout(function(){e(t)},n)}})},notify:function(e,t){e["equalityComparer"]=t=="always"?null:r}};var n={"undefined":1,"boolean":1,number:1,string:1};t.exportSymbol("extenders",t.extenders);t.subscription=function(e,n,r){this.target=e;this.callback=n;this.disposeCallback=r;t.exportProperty(this,"dispose",this.dispose)};t.subscription.prototype.dispose=function(){this.isDisposed=true;this.disposeCallback()};t.subscribable=function(){this._subscriptions={};t.utils.extend(this,t.subscribable["fn"]);t.exportProperty(this,"subscribe",this.subscribe);t.exportProperty(this,"extend",this.extend);t.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var s="change";t.subscribable["fn"]={subscribe:function(e,n,r){r=r||s;var i=n?e.bind(n):e;var o=new t.subscription(this,i,function(){t.utils.arrayRemoveItem(this._subscriptions[r],o)}.bind(this));if(!this._subscriptions[r])this._subscriptions[r]=[];this._subscriptions[r].push(o);return o},notifySubscribers:function(e,n){n=n||s;if(this.hasSubscriptionsForEvent(n)){try{t.dependencyDetection.begin();for(var r=this._subscriptions[n].slice(0),i=0,o;o=r[i];++i){if(o&&o.isDisposed!==true)o.callback(e)}}finally{t.dependencyDetection.end()}}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(){var e=0;t.utils.objectForEach(this._subscriptions,function(t,n){e+=n.length});return e},extend:i};t.isSubscribable=function(e){return e!=null&&typeof e.subscribe=="function"&&typeof e["notifySubscribers"]=="function"};t.exportSymbol("subscribable",t.subscribable);t.exportSymbol("isSubscribable",t.isSubscribable);t.dependencyDetection=function(){var e=[];return{begin:function(t){e.push(t&&{callback:t,distinctDependencies:[]})},end:function(){e.pop()},registerDependency:function(n){if(!t.isSubscribable(n))throw new Error("Only subscribable things can act as dependencies");if(e.length>0){var r=e[e.length-1];if(!r||t.utils.arrayIndexOf(r.distinctDependencies,n)>=0)return;r.distinctDependencies.push(n);r.callback(n)}},ignore:function(t,n,r){try{e.push(null);return t.apply(n,r||[])}finally{e.pop()}}}}();t.observable=function(e){function r(){if(arguments.length>0){if(!r["equalityComparer"]||!r["equalityComparer"](n,arguments[0])){r.valueWillMutate();n=arguments[0];if(DEBUG)r._latestValue=n;r.valueHasMutated()}return this}else{t.dependencyDetection.registerDependency(r);return n}}var n=e;if(DEBUG)r._latestValue=n;t.subscribable.call(r);r.peek=function(){return n};r.valueHasMutated=function(){r["notifySubscribers"](n)};r.valueWillMutate=function(){r["notifySubscribers"](n,"beforeChange")};t.utils.extend(r,t.observable["fn"]);t.exportProperty(r,"peek",r.peek);t.exportProperty(r,"valueHasMutated",r.valueHasMutated);t.exportProperty(r,"valueWillMutate",r.valueWillMutate);return r};t.observable["fn"]={equalityComparer:r};var o=t.observable.protoProperty="__ko_proto__";t.observable["fn"][o]=t.observable;t.hasPrototype=function(e,n){if(e===null||e===undefined||e[o]===undefined)return false;if(e[o]===n)return true;return t.hasPrototype(e[o],n)};t.isObservable=function(e){return t.hasPrototype(e,t.observable)};t.isWriteableObservable=function(e){if(typeof e=="function"&&e[o]===t.observable)return true;if(typeof e=="function"&&e[o]===t.dependentObservable&&e.hasWriteFunction)return true;return false};t.exportSymbol("observable",t.observable);t.exportSymbol("isObservable",t.isObservable);t.exportSymbol("isWriteableObservable",t.isWriteableObservable);t.observableArray=function(e){e=e||[];if(typeof e!="object"||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var n=t.observable(e);t.utils.extend(n,t.observableArray["fn"]);return n.extend({trackArrayChanges:true})};t.observableArray["fn"]={remove:function(e){var n=this.peek();var r=[];var i=typeof e=="function"&&!t.isObservable(e)?e:function(t){return t===e};for(var s=0;s<n.length;s++){var o=n[s];if(i(o)){if(r.length===0){this.valueWillMutate()}r.push(o);n.splice(s,1);s--}}if(r.length){this.valueHasMutated()}return r},removeAll:function(e){if(e===undefined){var n=this.peek();var r=n.slice(0);this.valueWillMutate();n.splice(0,n.length);this.valueHasMutated();return r}if(!e)return[];return this["remove"](function(n){return t.utils.arrayIndexOf(e,n)>=0})},destroy:function(e){var n=this.peek();var r=typeof e=="function"&&!t.isObservable(e)?e:function(t){return t===e};this.valueWillMutate();for(var i=n.length-1;i>=0;i--){var s=n[i];if(r(s))n[i]["_destroy"]=true}this.valueHasMutated()},destroyAll:function(e){if(e===undefined)return this["destroy"](function(){return true});if(!e)return[];return this["destroy"](function(n){return t.utils.arrayIndexOf(e,n)>=0})},indexOf:function(e){var n=this();return t.utils.arrayIndexOf(n,e)},replace:function(e,t){var n=this["indexOf"](e);if(n>=0){this.valueWillMutate();this.peek()[n]=t;this.valueHasMutated()}}};t.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(e){t.observableArray["fn"][e]=function(){var t=this.peek();this.valueWillMutate();this.cacheDiffForKnownOperation(t,e,arguments);var n=t[e].apply(t,arguments);this.valueHasMutated();return n}});t.utils.arrayForEach(["slice"],function(e){t.observableArray["fn"][e]=function(){var t=this();return t[e].apply(t,arguments)}});t.exportSymbol("observableArray",t.observableArray);var u="arrayChange";t.extenders["trackArrayChanges"]=function(e){function a(){if(n){return}n=true;var t=e["notifySubscribers"];e["notifySubscribers"]=function(e,n){if(!n||n===s){++i}return t.apply(this,arguments)};var o=[].concat(e.peek()||[]);r=null;e.subscribe(function(t){t=[].concat(t||[]);if(e.hasSubscriptionsForEvent(u)){var n=f(o,t);if(n.length){e["notifySubscribers"](n,u)}}o=t;r=null;i=0})}function f(e,n){if(!r||i>1){r=t.utils.compareArrays(e,n,{sparse:true})}return r}if(e.cacheDiffForKnownOperation){return}var n=false,r=null,i=0,o=e.subscribe;e.subscribe=e["subscribe"]=function(e,t,n){if(n===u){a()}return o.apply(this,arguments)};e.cacheDiffForKnownOperation=function(e,t,s){function l(e,t,n){o.push({status:e,value:t,index:n})}if(!n||i){return}var o=[],u=e.length,a=s.length,f=0;switch(t){case"push":f=u;case"unshift":for(var c=0;c<a;c++){l("added",s[c],f+c)}break;case"pop":f=u-1;case"shift":if(u){l("deleted",e[f],f)}break;case"splice":var h=Math.min(Math.max(0,s[0]<0?u+s[0]:s[0]),u),p=a===1?u:Math.min(h+(s[1]||0),u),d=h+a-2,v=Math.max(p,d);for(var c=h,m=2;c<v;++c,++m){if(c<p)l("deleted",e[c],c);if(c<d)l("added",s[m],c)}break;default:return}r=o}};t.dependentObservable=function(e,n,r){function f(e){E.push(e.subscribe(c))}function l(){t.utils.arrayForEach(E,function(e){e.dispose()});E=[]}function c(){var e=p["throttleEvaluation"];if(e&&e>=0){clearTimeout(S);S=setTimeout(h,e)}else h()}function h(){if(o){return}if(b&&b()){if(!u){w();s=true;return}}else{u=false}o=true;try{var e=t.utils.arrayMap(E,function(e){return e.target});t.dependencyDetection.begin(function(n){var r;if((r=t.utils.arrayIndexOf(e,n))>=0)e[r]=undefined;else f(n)});var r=n?a.call(n):a();for(var l=e.length-1;l>=0;l--){if(e[l])E.splice(l,1)[0].dispose()}s=true;if(!p["equalityComparer"]||!p["equalityComparer"](i,r)){p["notifySubscribers"](i,"beforeChange");i=r;if(DEBUG)p._latestValue=i;p["notifySubscribers"](i)}}finally{t.dependencyDetection.end();o=false}if(!E.length)w()}function p(){if(arguments.length>0){if(typeof m==="function"){m.apply(n,arguments)}else{throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.")}return this}else{if(!s)h();t.dependencyDetection.registerDependency(p);return i}}function d(){if(!s)h();return i}function v(){return!s||E.length>0}var i,s=false,o=false,u=false,a=e;if(a&&typeof a=="object"){r=a;a=r["read"]}else{r=r||{};if(!a)a=r["read"]}if(typeof a!="function")throw new Error("Pass a function that returns the value of the ko.computed");var m=r["write"],g=r["disposeWhenNodeIsRemoved"]||r.disposeWhenNodeIsRemoved||null,y=r["disposeWhen"]||r.disposeWhen,b=y,w=l,E=[],S=null;if(!n)n=r["owner"];p.peek=d;p.getDependenciesCount=function(){return E.length};p.hasWriteFunction=typeof r["write"]==="function";p.dispose=function(){w()};p.isActive=v;t.subscribable.call(p);t.utils.extend(p,t.dependentObservable["fn"]);t.exportProperty(p,"peek",p.peek);t.exportProperty(p,"dispose",p.dispose);t.exportProperty(p,"isActive",p.isActive);t.exportProperty(p,"getDependenciesCount",p.getDependenciesCount);if(g){u=true;if(g.nodeType){b=function(){return!t.utils.domNodeIsAttachedToDocument(g)||y&&y()}}}if(r["deferEvaluation"]!==true)h();if(g&&v()){w=function(){t.utils.domNodeDisposal.removeDisposeCallback(g,w);l()};t.utils.domNodeDisposal.addDisposeCallback(g,w)}return p};t.isComputed=function(e){return t.hasPrototype(e,t.dependentObservable)};var a=t.observable.protoProperty;t.dependentObservable[a]=t.observable;t.dependentObservable["fn"]={equalityComparer:r};t.dependentObservable["fn"][a]=t.dependentObservable;t.exportSymbol("dependentObservable",t.dependentObservable);t.exportSymbol("computed",t.dependentObservable);t.exportSymbol("isComputed",t.isComputed);(function(){function n(e,t,s){s=s||new i;e=t(e);var o=typeof e=="object"&&e!==null&&e!==undefined&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean);if(!o)return e;var u=e instanceof Array?[]:{};s.save(e,u);r(e,function(r){var i=t(e[r]);switch(typeof i){case"boolean":case"number":case"string":case"function":u[r]=i;break;case"object":case"undefined":var o=s.get(i);u[r]=o!==undefined?o:n(i,t,s);break}});return u}function r(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);if(typeof e["toJSON"]=="function")t("toJSON")}else{for(var r in e){t(r)}}}function i(){this.keys=[];this.values=[]}var e=10;t.toJS=function(r){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return n(r,function(n){for(var r=0;t.isObservable(n)&&r<e;r++)n=n();return n})};t.toJSON=function(e,n,r){var i=t.toJS(e);return t.utils.stringifyJson(i,n,r)};i.prototype={constructor:i,save:function(e,n){var r=t.utils.arrayIndexOf(this.keys,e);if(r>=0)this.values[r]=n;else{this.keys.push(e);this.values.push(n)}},get:function(e){var n=t.utils.arrayIndexOf(this.keys,e);return n>=0?this.values[n]:undefined}}})();t.exportSymbol("toJS",t.toJS);t.exportSymbol("toJSON",t.toJSON);(function(){var e="__ko__hasDomDataOptionValue__";t.selectExtensions={readValue:function(n){switch(t.utils.tagNameLower(n)){case"option":if(n[e]===true)return t.utils.domData.get(n,t.bindingHandlers.options.optionValueDomDataKey);return t.utils.ieVersion<=7?n.getAttributeNode("value")&&n.getAttributeNode("value").specified?n.value:n.text:n.value;case"select":return n.selectedIndex>=0?t.selectExtensions.readValue(n.options[n.selectedIndex]):undefined;default:return n.value}},writeValue:function(n,r){switch(t.utils.tagNameLower(n)){case"option":switch(typeof r){case"string":t.utils.domData.set(n,t.bindingHandlers.options.optionValueDomDataKey,undefined);if(e in n){delete n[e]}n.value=r;break;default:t.utils.domData.set(n,t.bindingHandlers.options.optionValueDomDataKey,r);n[e]=true;n.value=typeof r==="number"?r:"";break}break;case"select":if(r==="")r=undefined;if(r===null||r===undefined)n.selectedIndex=-1;for(var i=n.options.length-1;i>=0;i--){if(t.selectExtensions.readValue(n.options[i])==r){n.selectedIndex=i;break}}if(!(n.size>1)&&n.selectedIndex===-1){n.selectedIndex=0}break;default:if(r===null||r===undefined)r="";n.value=r;break}}}})();t.exportSymbol("selectExtensions",t.selectExtensions);t.exportSymbol("selectExtensions.readValue",t.selectExtensions.readValue);t.exportSymbol("selectExtensions.writeValue",t.selectExtensions.writeValue);t.expressionRewriting=function(){function r(r){if(t.utils.arrayIndexOf(e,r)>=0)return false;var i=r.match(n);return i===null?false:i[1]?"Object("+i[1]+")"+i[2]:r}function p(e){var n=t.utils.stringTrim(e);if(n.charCodeAt(0)===123)n=n.slice(1,-1);var r=[],i=n.match(l),s,o,u=0;if(i){i.push(",");for(var a=0,f;f=i[a];++a){var p=f.charCodeAt(0);if(p===44){if(u<=0){if(s)r.push(o?{key:s,value:o.join("")}:{unknown:s});s=o=u=0;continue}}else if(p===58){if(!o)continue}else if(p===47&&a&&f.length>1){var d=i[a-1].match(c);if(d&&!h[d[0]]){n=n.substr(n.indexOf(f)+1);i=n.match(l);i.push(",");a=-1;f="/"}}else if(p===40||p===123||p===91){++u}else if(p===41||p===125||p===93){--u}else if(!s&&!o){s=p===34||p===39?f.slice(1,-1):f;continue}if(o)o.push(f);else o=[f]}}return r}function v(e,n){function i(e,n){function f(t){return t&&t["preprocess"]?n=t["preprocess"](n,e,i):true}var a;if(!f(t["getBindingHandler"](e)))return;if(d[e]&&(a=r(n))){o.push("'"+e+"':function(_z){"+a+"=_z}")}if(u){n="function(){return "+n+" }"}s.push("'"+e+"':"+n)}n=n||{};var s=[],o=[],u=n["valueAccessors"],a=typeof e==="string"?p(e):e;t.utils.arrayForEach(a,function(e){i(e.key||e["unknown"],e.value)});if(o.length)i("_ko_property_writers","{"+o.join(",")+"}");return s.join(",")}var e=["true","false","null","undefined"];var n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i;var i='"(?:[^"\\\\]|\\\\.)*"',s="'(?:[^'\\\\]|\\\\.)*'",o="/(?:[^/\\\\]|\\\\.)*/w*",u=",\"'{}()/:[\\]",a="[^\\s:,/][^"+u+"]*[^\\s"+u+"]",f="[^\\s]",l=RegExp(i+"|"+s+"|"+o+"|"+a+"|"+f,"g"),c=/[\])"'A-Za-z0-9_$]+$/,h={"in":1,"return":1,"typeof":1};var d={};return{bindingRewriteValidators:[],twoWayBindings:d,parseObjectLiteral:p,preProcessBindings:v,keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n]["key"]==t)return true;return false},writeValueToProperty:function(e,n,r,i,s){if(!e||!t.isObservable(e)){var o=n.get("_ko_property_writers");if(o&&o[r])o[r](i)}else if(t.isWriteableObservable(e)&&(!s||e.peek()!==i)){e(i)}}}}();t.exportSymbol("expressionRewriting",t.expressionRewriting);t.exportSymbol("expressionRewriting.bindingRewriteValidators",t.expressionRewriting.bindingRewriteValidators);t.exportSymbol("expressionRewriting.parseObjectLiteral",t.expressionRewriting.parseObjectLiteral);t.exportSymbol("expressionRewriting.preProcessBindings",t.expressionRewriting.preProcessBindings);t.exportSymbol("expressionRewriting._twoWayBindings",t.expressionRewriting.twoWayBindings);t.exportSymbol("jsonExpressionRewriting",t.expressionRewriting);t.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",t.expressionRewriting.preProcessBindings);(function(){function s(t){return t.nodeType==8&&n.test(e?t.text:t.nodeValue)}function o(t){return t.nodeType==8&&r.test(e?t.text:t.nodeValue)}function u(e,t){var n=e;var r=1;var i=[];while(n=n.nextSibling){if(o(n)){r--;if(r===0)return i}i.push(n);if(s(n))r++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function a(e,t){var n=u(e,t);if(n){if(n.length>0)return n[n.length-1].nextSibling;return e.nextSibling}else return null}function f(e){var t=e.firstChild,n=null;if(t){do{if(n)n.push(t);else if(s(t)){var r=a(t,true);if(r)t=r;else n=[t]}else if(o(t)){n=[t]}}while(t=t.nextSibling)}return n}var e=document&&document.createComment("test").text==="<!--test-->";var n=e?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/;var r=e?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/;var i={ul:true,ol:true};t.virtualElements={allowedBindings:{},childNodes:function(e){return s(e)?u(e):e.childNodes},emptyNode:function(e){if(!s(e))t.utils.emptyDomNode(e);else{var n=t.virtualElements.childNodes(e);for(var r=0,i=n.length;r<i;r++)t.removeNode(n[r])}},setDomNodeChildren:function(e,n){if(!s(e))t.utils.setDomNodeChildren(e,n);else{t.virtualElements.emptyNode(e);var r=e.nextSibling;for(var i=0,o=n.length;i<o;i++)r.parentNode.insertBefore(n[i],r)}},prepend:function(e,t){if(!s(e)){if(e.firstChild)e.insertBefore(t,e.firstChild);else e.appendChild(t)}else{e.parentNode.insertBefore(t,e.nextSibling)}},insertAfter:function(e,n,r){if(!r){t.virtualElements.prepend(e,n)}else if(!s(e)){if(r.nextSibling)e.insertBefore(n,r.nextSibling);else e.appendChild(n)}else{e.parentNode.insertBefore(n,r.nextSibling)}},firstChild:function(e){if(!s(e))return e.firstChild;if(!e.nextSibling||o(e.nextSibling))return null;return e.nextSibling},nextSibling:function(e){if(s(e))e=a(e);if(e.nextSibling&&o(e.nextSibling))return null;return e.nextSibling},hasBindingValue:s,virtualNodeBindingValue:function(t){var r=(e?t.text:t.nodeValue).match(n);return r?r[1]:null},normaliseVirtualElementDomStructure:function(e){if(!i[t.utils.tagNameLower(e)])return;var n=e.firstChild;if(n){do{if(n.nodeType===1){var r=f(n);if(r){var s=n.nextSibling;for(var o=0;o<r.length;o++){if(s)e.insertBefore(r[o],s);else e.appendChild(r[o])}}}}while(n=n.nextSibling)}}}})();t.exportSymbol("virtualElements",t.virtualElements);t.exportSymbol("virtualElements.allowedBindings",t.virtualElements.allowedBindings);t.exportSymbol("virtualElements.emptyNode",t.virtualElements.emptyNode);t.exportSymbol("virtualElements.insertAfter",t.virtualElements.insertAfter);t.exportSymbol("virtualElements.prepend",t.virtualElements.prepend);t.exportSymbol("virtualElements.setDomNodeChildren",t.virtualElements.setDomNodeChildren);(function(){function n(e,t,n){var i=e+(n&&n["valueAccessors"]||"");return t[i]||(t[i]=r(e,n))}function r(e,n){var r=t.expressionRewriting.preProcessBindings(e,n),i="with($context){with($data||{}){return{"+r+"}}}";return new Function("$context","$element",i)}var e="data-bind";t.bindingProvider=function(){this.bindingCache={}};t.utils.extend(t.bindingProvider.prototype,{nodeHasBindings:function(n){switch(n.nodeType){case 1:return n.getAttribute(e)!=null;case 8:return t.virtualElements.hasBindingValue(n);default:return false}},getBindings:function(e,t){var n=this["getBindingsString"](e,t);return n?this["parseBindingsString"](n,t,e):null},getBindingAccessors:function(e,t){var n=this["getBindingsString"](e,t);return n?this["parseBindingsString"](n,t,e,{valueAccessors:true}):null},getBindingsString:function(n,r){switch(n.nodeType){case 1:return n.getAttribute(e);case 8:return t.virtualElements.virtualNodeBindingValue(n);default:return null}},parseBindingsString:function(e,t,r,i){try{var s=n(e,this.bindingCache,i);return s(t,r)}catch(o){o.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+o.message;throw o}}});t.bindingProvider["instance"]=new t.bindingProvider})();t.exportSymbol("bindingProvider",t.bindingProvider);(function(){function n(e){return function(){return e}}function r(e){return e()}function i(e){return t.utils.objectMap(t.dependencyDetection.ignore(e),function(t,n){return function(){return e()[n]}})}function s(e,r,s){if(typeof e==="function"){return i(e.bind(null,r,s))}else{return t.utils.objectMap(e,n)}}function o(e,t){return i(this["getBindings"].bind(this,e,t))}function u(e){var n=t.virtualElements.allowedBindings[e];if(!n)throw new Error("The binding '"+e+"' cannot be used with virtual elements")}function a(e,n,r){var i,s=t.virtualElements.firstChild(n),o=t.bindingProvider["instance"],u=o["preprocessNode"];if(u){while(i=s){s=t.virtualElements.nextSibling(i);u.call(o,i)}s=t.virtualElements.firstChild(n)}while(i=s){s=t.virtualElements.nextSibling(i);f(e,i,r)}}function f(n,r,i){var s=true;var o=r.nodeType===1;if(o)t.virtualElements.normaliseVirtualElementDomStructure(r);var u=o&&i||t.bindingProvider["instance"]["nodeHasBindings"](r);if(u)s=h(r,null,n,i)["shouldBindDescendants"];if(s&&!e[t.utils.tagNameLower(r)]){a(n,r,!o)}}function c(e){var n=[],r={},i=[];t.utils.objectForEach(e,function s(o){if(!r[o]){var u=t["getBindingHandler"](o);if(u){if(u["after"]){i.push(o);t.utils.arrayForEach(u["after"],function(n){if(e[n]){if(t.utils.arrayIndexOf(i,n)!==-1){throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "))}else{s(n)}}});i.pop()}n.push({key:o,handler:u})}r[o]=true}});return n}function h(e,n,i,s){var a=t.utils.domData.get(e,l);if(!n){if(a){throw Error("You cannot apply bindings multiple times to the same element.")}t.utils.domData.set(e,l,true)}if(!a&&s)t.storedBindingContextForNode(e,i);var f;if(n&&typeof n!=="function"){f=n}else{var h=t.bindingProvider["instance"],p=h["getBindingAccessors"]||o;if(n||i._subscribable){var d=t.dependentObservable(function(){f=n?n(i,e):p.call(h,e,i);if(f&&i._subscribable)i._subscribable();return f},null,{disposeWhenNodeIsRemoved:e});if(!f||!d.isActive())d=null}else{f=t.dependencyDetection.ignore(p,h,[e,i])}}var v;if(f){var m=d?function(e){return function(){return r(d()[e])}}:function(e){return f[e]};function g(){return t.utils.objectMap(d?d():f,r)}g["get"]=function(e){return f[e]&&r(m(e))};g["has"]=function(e){return e in f};var y=c(f);t.utils.arrayForEach(y,function(n){var r=n.handler["init"],s=n.handler["update"],o=n.key;if(e.nodeType===8){u(o)}try{if(typeof r=="function"){t.dependencyDetection.ignore(function(){var t=r(e,m(o),g,i["$data"],i);if(t&&t["controlsDescendantBindings"]){if(v!==undefined)throw new Error("Multiple bindings ("+v+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");v=o}})}if(typeof s=="function"){t.dependentObservable(function(){s(e,m(o),g,i["$data"],i)},null,{disposeWhenNodeIsRemoved:e})}}catch(a){a.message='Unable to process binding "'+o+": "+f[o]+'"\nMessage: '+a.message;throw a}})}return{shouldBindDescendants:v===undefined}}function d(e){return e&&e instanceof t.bindingContext?e:new t.bindingContext(e)}t.bindingHandlers={};var e={script:true};t["getBindingHandler"]=function(e){return t.bindingHandlers[e]};t.bindingContext=function(e,n,r,i){function s(){var s=a?e():e;if(n){if(n._subscribable)n._subscribable();t.utils.extend(u,n);if(l){u._subscribable=l}}else{u["$parents"]=[];u["$root"]=s;u["ko"]=t}u["$rawData"]=e;u["$data"]=s;if(r)u[r]=s;if(i)i(u,n,s);return u["$data"]}function o(){return f&&!t.utils.anyDomNodeIsAttachedToDocument(f)}var u=this,a=typeof e=="function",f,l=t.dependentObservable(s,null,{disposeWhen:o,disposeWhenNodeIsRemoved:true});if(l.isActive()){u._subscribable=l;l["equalityComparer"]=null;f=[];l._addNode=function(e){f.push(e);t.utils.domNodeDisposal.addDisposeCallback(e,function(e){t.utils.arrayRemoveItem(f,e);if(!f.length){l.dispose();u._subscribable=l=undefined}})}}};t.bindingContext.prototype["createChildContext"]=function(e,n,r){return new t.bindingContext(e,this,n,function(e,t){e["$parentContext"]=t;e["$parent"]=t["$data"];e["$parents"]=(t["$parents"]||[]).slice(0);e["$parents"].unshift(e["$parent"]);if(r)r(e)})};t.bindingContext.prototype["extend"]=function(e){return new t.bindingContext(this["$rawData"],this,null,function(n){t.utils.extend(n,typeof e=="function"?e():e)})};var l=t.utils.domData.nextKey();var p=t.utils.domData.nextKey();t.storedBindingContextForNode=function(e,n){if(arguments.length==2){t.utils.domData.set(e,p,n);if(n._subscribable)n._subscribable._addNode(e)}else{return t.utils.domData.get(e,p)}};t.applyBindingAccessorsToNode=function(e,n,r){if(e.nodeType===1)t.virtualElements.normaliseVirtualElementDomStructure(e);return h(e,n,d(r),true)};t.applyBindingsToNode=function(e,n,r){var i=d(r);return t.applyBindingAccessorsToNode(e,s(n,i,e),i)};t.applyBindingsToDescendants=function(e,t){if(t.nodeType===1||t.nodeType===8)a(d(e),t,true)};t.applyBindings=function(e,t){if(t&&t.nodeType!==1&&t.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||window.document.body;f(d(e),t,true)};t.contextFor=function(e){switch(e.nodeType){case 1:case 8:var n=t.storedBindingContextForNode(e);if(n)return n;if(e.parentNode)return t.contextFor(e.parentNode);break}return undefined};t.dataFor=function(e){var n=t.contextFor(e);return n?n["$data"]:undefined};t.exportSymbol("bindingHandlers",t.bindingHandlers);t.exportSymbol("applyBindings",t.applyBindings);t.exportSymbol("applyBindingsToDescendants",t.applyBindingsToDescendants);t.exportSymbol("applyBindingAccessorsToNode",t.applyBindingAccessorsToNode);t.exportSymbol("applyBindingsToNode",t.applyBindingsToNode);t.exportSymbol("contextFor",t.contextFor);t.exportSymbol("dataFor",t.dataFor)})();var f={"class":"className","for":"htmlFor"};t.bindingHandlers["attr"]={update:function(e,n,r){var i=t.utils.unwrapObservable(n())||{};t.utils.objectForEach(i,function(n,r){r=t.utils.unwrapObservable(r);var i=r===false||r===null||r===undefined;if(i)e.removeAttribute(n);if(t.utils.ieVersion<=8&&n in f){n=f[n];if(i)e.removeAttribute(n);else e[n]=r}else if(!i){e.setAttribute(n,r.toString())}if(n==="name"){t.utils.setElementName(e,i?"":r.toString())}})}};(function(){t.bindingHandlers["checked"]={after:["value","attr"],init:function(e,n,r){function i(){return r["has"]("checkedValue")?t.utils.unwrapObservable(r.get("checkedValue")):e.value}function s(){var s=e.checked,o=c?i():s;if(!h){return}if(a&&!s){return}var u=t.dependencyDetection.ignore(n);if(f){if(l!==o){if(s){t.utils.addOrRemoveItem(u,o,true);t.utils.addOrRemoveItem(u,l,false)}l=o}else{t.utils.addOrRemoveItem(u,o,s)}}else{t.expressionRewriting.writeValueToProperty(u,r,"checked",o,true)}}function o(){var r=t.utils.unwrapObservable(n());if(f){e.checked=t.utils.arrayIndexOf(r,i())>=0}else if(u){e.checked=r}else{e.checked=i()===r}}var u=e.type=="checkbox",a=e.type=="radio";if(!u&&!a){return}var f=u&&t.utils.unwrapObservable(n())instanceof Array,l=f?i():undefined,c=a||f,h=false;if(a&&!e.name)t.bindingHandlers["uniqueName"]["init"](e,function(){return true});t.dependentObservable(s,null,{disposeWhenNodeIsRemoved:e});t.utils.registerEventHandler(e,"click",s);t.dependentObservable(o,null,{disposeWhenNodeIsRemoved:e});h=true}};t.expressionRewriting.twoWayBindings["checked"]=true;t.bindingHandlers["checkedValue"]={update:function(e,n){e.value=t.utils.unwrapObservable(n())}}})();var l="__ko__cssValue";t.bindingHandlers["css"]={update:function(e,n){var r=t.utils.unwrapObservable(n());if(typeof r=="object"){t.utils.objectForEach(r,function(n,r){r=t.utils.unwrapObservable(r);t.utils.toggleDomNodeCssClass(e,n,r)})}else{r=String(r||"");t.utils.toggleDomNodeCssClass(e,e[l],false);e[l]=r;t.utils.toggleDomNodeCssClass(e,r,true)}}};t.bindingHandlers["enable"]={update:function(e,n){var r=t.utils.unwrapObservable(n());if(r&&e.disabled)e.removeAttribute("disabled");else if(!r&&!e.disabled)e.disabled=true}};t.bindingHandlers["disable"]={update:function(e,n){t.bindingHandlers["enable"]["update"](e,function(){return!t.utils.unwrapObservable(n())})}};t.bindingHandlers["event"]={init:function(e,n,r,i,s){var o=n()||{};t.utils.objectForEach(o,function(o){if(typeof o=="string"){t.utils.registerEventHandler(e,o,function(e){var u;var a=n()[o];if(!a)return;try{var f=t.utils.makeArray(arguments);i=s["$data"];f.unshift(i);u=a.apply(i,f)}finally{if(u!==true){if(e.preventDefault)e.preventDefault();else e.returnValue=false}}var l=r.get(o+"Bubble")!==false;if(!l){e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation()}})}})}};t.bindingHandlers["foreach"]={makeTemplateValueAccessor:function(e){return function(){var n=e(),r=t.utils.peekObservable(n);if(!r||typeof r.length=="number")return{foreach:n,templateEngine:t.nativeTemplateEngine.instance};t.utils.unwrapObservable(n);return{foreach:r["data"],as:r["as"],includeDestroyed:r["includeDestroyed"],afterAdd:r["afterAdd"],beforeRemove:r["beforeRemove"],afterRender:r["afterRender"],beforeMove:r["beforeMove"],afterMove:r["afterMove"],templateEngine:t.nativeTemplateEngine.instance}}},init:function(e,n,r,i,s){return t.bindingHandlers["template"]["init"](e,t.bindingHandlers["foreach"].makeTemplateValueAccessor(n))},update:function(e,n,r,i,s){return t.bindingHandlers["template"]["update"](e,t.bindingHandlers["foreach"].makeTemplateValueAccessor(n),r,i,s)}};t.expressionRewriting.bindingRewriteValidators["foreach"]=false;t.virtualElements.allowedBindings["foreach"]=true;var h="__ko_hasfocusUpdating";var p="__ko_hasfocusLastValue";t.bindingHandlers["hasfocus"]={init:function(e,n,r){var i=function(i){e[h]=true;var s=e.ownerDocument;if("activeElement"in s){var o;try{o=s.activeElement}catch(u){o=s.body}i=o===e}var a=n();t.expressionRewriting.writeValueToProperty(a,r,"hasfocus",i,true);e[p]=i;e[h]=false};var s=i.bind(null,true);var o=i.bind(null,false);t.utils.registerEventHandler(e,"focus",s);t.utils.registerEventHandler(e,"focusin",s);t.utils.registerEventHandler(e,"blur",o);t.utils.registerEventHandler(e,"focusout",o)},update:function(e,n){var r=!!t.utils.unwrapObservable(n());if(!e[h]&&e[p]!==r){r?e.focus():e.blur();t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,r?"focusin":"focusout"])}}};t.expressionRewriting.twoWayBindings["hasfocus"]=true;t.bindingHandlers["hasFocus"]=t.bindingHandlers["hasfocus"];t.expressionRewriting.twoWayBindings["hasFocus"]=true;t.bindingHandlers["html"]={init:function(){return{controlsDescendantBindings:true}},update:function(e,n){t.utils.setHtml(e,n())}};var d=t.utils.domData.nextKey();v("if");v("ifnot",false,true);v("with",true,false,function(e,t){return e["createChildContext"](t)});t.bindingHandlers["options"]={init:function(e){if(t.utils.tagNameLower(e)!=="select")throw new Error("options binding applies only to SELECT elements");while(e.length>0){e.remove(0)}return{controlsDescendantBindings:true}},update:function(e,n,r){function i(){return t.utils.arrayFilter(e.options,function(e){return e.selected})}function p(e,t,n){var r=typeof t;if(r=="function")return t(e);else if(r=="string")return e[t];else return n}function v(e,n,i){if(i.length){c=i[0].selected?[t.selectExtensions.readValue(i[0])]:[];d=true}var s=document.createElement("option");if(e===f){t.utils.setTextContent(s,r.get("optionsCaption"));t.selectExtensions.writeValue(s,undefined)}else{var o=p(e,r.get("optionsValue"),e);t.selectExtensions.writeValue(s,t.utils.unwrapObservable(o));var u=p(e,r.get("optionsText"),o);t.utils.setTextContent(s,u)}return[s]}function m(n,r){if(c.length){var i=t.utils.arrayIndexOf(c,t.selectExtensions.readValue(r[0]))>=0;t.utils.setOptionNodeSelectionState(r[0],i);if(d&&!i)t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,"change"])}}var s=e.length==0;var o=!s&&e.multiple?e.scrollTop:null;var u=t.utils.unwrapObservable(n());var a=r.get("optionsIncludeDestroyed");var f={};var l;var c;if(e.multiple){c=t.utils.arrayMap(i(),t.selectExtensions.readValue)}else{c=e.selectedIndex>=0?[t.selectExtensions.readValue(e.options[e.selectedIndex])]:[]}if(u){if(typeof u.length=="undefined")u=[u];var h=t.utils.arrayFilter(u,function(e){return a||e===undefined||e===null||!t.utils.unwrapObservable(e["_destroy"])});if(r["has"]("optionsCaption")){l=t.utils.unwrapObservable(r.get("optionsCaption"));if(l!==null&&l!==undefined){h.unshift(f)}}}else{u=[]}var d=false;var g=m;if(r["has"]("optionsAfterRender")){g=function(e,n){m(e,n);t.dependencyDetection.ignore(r.get("optionsAfterRender"),null,[n[0],e!==f?e:undefined])}}t.utils.setDomNodeChildrenFromArrayMapping(e,h,v,null,g);var y;if(e.multiple){y=c.length&&i().length<c.length}else{y=c.length&&e.selectedIndex>=0?t.selectExtensions.readValue(e.options[e.selectedIndex])!==c[0]:c.length||e.selectedIndex>=0}if(y)t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,"change"]);t.utils.ensureSelectElementIsRenderedCorrectly(e);if(o&&Math.abs(o-e.scrollTop)>20)e.scrollTop=o}};t.bindingHandlers["options"].optionValueDomDataKey=t.utils.domData.nextKey();t.bindingHandlers["selectedOptions"]={after:["options","foreach"],init:function(e,n,r){t.utils.registerEventHandler(e,"change",function(){var i=n(),s=[];t.utils.arrayForEach(e.getElementsByTagName("option"),function(e){if(e.selected)s.push(t.selectExtensions.readValue(e))});t.expressionRewriting.writeValueToProperty(i,r,"selectedOptions",s)})},update:function(e,n){if(t.utils.tagNameLower(e)!="select")throw new Error("values binding applies only to SELECT elements");var r=t.utils.unwrapObservable(n());if(r&&typeof r.length=="number"){t.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var n=t.utils.arrayIndexOf(r,t.selectExtensions.readValue(e))>=0;t.utils.setOptionNodeSelectionState(e,n)})}}};t.expressionRewriting.twoWayBindings["selectedOptions"]=true;t.bindingHandlers["style"]={update:function(e,n){var r=t.utils.unwrapObservable(n()||{});t.utils.objectForEach(r,function(n,r){r=t.utils.unwrapObservable(r);e.style[n]=r||""})}};t.bindingHandlers["submit"]={init:function(e,n,r,i,s){if(typeof n()!="function")throw new Error("The value for a submit binding must be a function");t.utils.registerEventHandler(e,"submit",function(t){var r;var i=n();try{r=i.call(s["$data"],e)}finally{if(r!==true){if(t.preventDefault)t.preventDefault();else t.returnValue=false}}})}};t.bindingHandlers["text"]={init:function(){return{controlsDescendantBindings:true}},update:function(e,n){t.utils.setTextContent(e,n())}};t.virtualElements.allowedBindings["text"]=true;t.bindingHandlers["uniqueName"]={init:function(e,n){if(n()){var r="ko_unique_"+ ++t.bindingHandlers["uniqueName"].currentIndex;t.utils.setElementName(e,r)}}};t.bindingHandlers["uniqueName"].currentIndex=0;t.bindingHandlers["value"]={after:["options","foreach"],init:function(e,n,r){var i=["change"];var s=r.get("valueUpdate");var o=false;if(s){if(typeof s=="string")s=[s];t.utils.arrayPushAll(i,s);i=t.utils.arrayGetDistinctValues(i)}var u=function(){o=false;var i=n();var s=t.selectExtensions.readValue(e);t.expressionRewriting.writeValueToProperty(i,r,"value",s)};var a=t.utils.ieVersion&&e.tagName.toLowerCase()=="input"&&e.type=="text"&&e.autocomplete!="off"&&(!e.form||e.form.autocomplete!="off");if(a&&t.utils.arrayIndexOf(i,"propertychange")==-1){t.utils.registerEventHandler(e,"propertychange",function(){o=true});t.utils.registerEventHandler(e,"blur",function(){if(o){u()}})}t.utils.arrayForEach(i,function(n){var r=u;if(t.utils.stringStartsWith(n,"after")){r=function(){setTimeout(u,0)};n=n.substring("after".length)}t.utils.registerEventHandler(e,n,r)})},update:function(e,n){var r=t.utils.tagNameLower(e)==="select";var i=t.utils.unwrapObservable(n());var s=t.selectExtensions.readValue(e);var o=i!==s;if(o){var u=function(){t.selectExtensions.writeValue(e,i)};u();if(r){if(i!==t.selectExtensions.readValue(e)){t.dependencyDetection.ignore(t.utils.triggerEvent,null,[e,"change"])}else{setTimeout(u,0)}}}}};t.expressionRewriting.twoWayBindings["value"]=true;t.bindingHandlers["visible"]={update:function(e,n){var r=t.utils.unwrapObservable(n());var i=!(e.style.display=="none");if(r&&!i)e.style.display="";else if(!r&&i)e.style.display="none"}};c("click");t.templateEngine=function(){};t.templateEngine.prototype["renderTemplateSource"]=function(e,t,n){throw new Error("Override renderTemplateSource")};t.templateEngine.prototype["createJavaScriptEvaluatorBlock"]=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")};t.templateEngine.prototype["makeTemplateSource"]=function(e,n){if(typeof e=="string"){n=n||document;var r=n.getElementById(e);if(!r)throw new Error("Cannot find template with ID "+e);return new t.templateSources.domElement(r)}else if(e.nodeType==1||e.nodeType==8){return new t.templateSources.anonymousTemplate(e)}else throw new Error("Unknown template type: "+e)};t.templateEngine.prototype["renderTemplate"]=function(e,t,n,r){var i=this["makeTemplateSource"](e,r);return this["renderTemplateSource"](i,t,n)};t.templateEngine.prototype["isTemplateRewritten"]=function(e,t){if(this["allowTemplateRewriting"]===false)return true;return this["makeTemplateSource"](e,t)["data"]("isRewritten")};t.templateEngine.prototype["rewriteTemplate"]=function(e,t,n){var r=this["makeTemplateSource"](e,n);var i=t(r["text"]());r["text"](i);r["data"]("isRewritten",true)};t.exportSymbol("templateEngine",t.templateEngine);t.templateRewriting=function(){function r(e){var n=t.expressionRewriting.bindingRewriteValidators;for(var r=0;r<e.length;r++){var i=e[r]["key"];if(n.hasOwnProperty(i)){var s=n[i];if(typeof s==="function"){var o=s(e[r]["value"]);if(o)throw new Error(o)}else if(!s){throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}}function i(e,n,i,s){var o=t.expressionRewriting.parseObjectLiteral(e);r(o);var u=t.expressionRewriting.preProcessBindings(o,{valueAccessors:true});var a="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+u+" } })()},'"+i.toLowerCase()+"')";return s["createJavaScriptEvaluatorBlock"](a)+n}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi;var n=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(e,n,r){if(!n["isTemplateRewritten"](e,r))n["rewriteTemplate"](e,function(e){return t.templateRewriting.memoizeBindingAttributeSyntax(e,n)},r)},memoizeBindingAttributeSyntax:function(t,r){return t.replace(e,function(){return i(arguments[4],arguments[1],arguments[2],r)}).replace(n,function(){return i(arguments[1],"<!-- ko -->","#comment",r)})},applyMemoizedBindingsToNextSibling:function(e,n){return t.memoization.memoize(function(r,i){var s=r.nextSibling;if(s&&s.nodeName.toLowerCase()===n){t.applyBindingAccessorsToNode(s,e,i)}})}}}();t.exportSymbol("__tr_ambtns",t.templateRewriting.applyMemoizedBindingsToNextSibling);(function(){t.templateSources={};t.templateSources.domElement=function(e){this.domElement=e};t.templateSources.domElement.prototype["text"]=function(){var e=t.utils.tagNameLower(this.domElement),n=e==="script"?"text":e==="textarea"?"value":"innerHTML";if(arguments.length==0){return this.domElement[n]}else{var r=arguments[0];if(n==="innerHTML")t.utils.setHtml(this.domElement,r);else this.domElement[n]=r}};var e=t.utils.domData.nextKey()+"_";t.templateSources.domElement.prototype["data"]=function(n){if(arguments.length===1){return t.utils.domData.get(this.domElement,e+n)}else{t.utils.domData.set(this.domElement,e+n,arguments[1])}};var n=t.utils.domData.nextKey();t.templateSources.anonymousTemplate=function(e){this.domElement=e};t.templateSources.anonymousTemplate.prototype=new t.templateSources.domElement;t.templateSources.anonymousTemplate.prototype.constructor=t.templateSources.anonymousTemplate;t.templateSources.anonymousTemplate.prototype["text"]=function(){if(arguments.length==0){var e=t.utils.domData.get(this.domElement,n)||{};if(e.textData===undefined&&e.containerData)e.textData=e.containerData.innerHTML;return e.textData}else{var r=arguments[0];t.utils.domData.set(this.domElement,n,{textData:r})}};t.templateSources.domElement.prototype["nodes"]=function(){if(arguments.length==0){var e=t.utils.domData.get(this.domElement,n)||{};return e.containerData}else{var r=arguments[0];t.utils.domData.set(this.domElement,n,{containerData:r})}};t.exportSymbol("templateSources",t.templateSources);t.exportSymbol("templateSources.domElement",t.templateSources.domElement);t.exportSymbol("templateSources.anonymousTemplate",t.templateSources.anonymousTemplate)})();(function(){function n(e,n,r){var i,s=e,o=t.virtualElements.nextSibling(n);while(s&&(i=s)!==o){s=t.virtualElements.nextSibling(i);r(i,s)}}function r(e,r){if(e.length){var i=e[0],s=e[e.length-1],o=i.parentNode,u=t.bindingProvider["instance"],a=u["preprocessNode"];if(a){n(i,s,function(e,t){var n=e.previousSibling;var r=a.call(u,e);if(r){if(e===i)i=r[0]||t;if(e===s)s=r[r.length-1]||n}});e.length=0;if(!i){return}if(i===s){e.push(i)}else{e.push(i,s);t.utils.fixUpContinuousNodeArray(e,o)}}n(i,s,function(e){if(e.nodeType===1||e.nodeType===8)t.applyBindings(r,e)});n(i,s,function(e){if(e.nodeType===1||e.nodeType===8)t.memoization.unmemoizeDomNodeAndDescendants(e,[r])});t.utils.fixUpContinuousNodeArray(e,o)}}function i(e){return e.nodeType?e:e.length>0?e[0]:null}function s(n,s,o,u,a){a=a||{};var f=n&&i(n);var l=f&&f.ownerDocument;var c=a["templateEngine"]||e;t.templateRewriting.ensureTemplateIsRewritten(o,c,l);var h=c["renderTemplate"](o,u,a,l);if(typeof h.length!="number"||h.length>0&&typeof h[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var p=false;switch(s){case"replaceChildren":t.virtualElements.setDomNodeChildren(n,h);p=true;break;case"replaceNode":t.utils.replaceDomNodes(n,h);p=true;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+s)}if(p){r(h,u);if(a["afterRender"])t.dependencyDetection.ignore(a["afterRender"],null,[h,u["$data"]])}return h}function u(e,n){var r=t.utils.domData.get(e,o);if(r&&typeof r.dispose=="function")r.dispose();t.utils.domData.set(e,o,n&&n.isActive()?n:undefined)}var e;t.setTemplateEngine=function(n){if(n!=undefined&&!(n instanceof t.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");e=n};t.renderTemplate=function(n,r,o,u,a){o=o||{};if((o["templateEngine"]||e)==undefined)throw new Error("Set a template engine before calling renderTemplate");a=a||"replaceChildren";if(u){var f=i(u);var l=function(){return!f||!t.utils.domNodeIsAttachedToDocument(f)};var c=f&&a=="replaceNode"?f.parentNode:f;return t.dependentObservable(function(){var e=r&&r instanceof t.bindingContext?r:new t.bindingContext(t.utils.unwrapObservable(r));var l=typeof n=="function"?n(e["$data"],e):n;var c=s(u,a,l,e,o);if(a=="replaceNode"){u=c;f=i(u)}},null,{disposeWhen:l,disposeWhenNodeIsRemoved:c})}else{return t.memoization.memoize(function(e){t.renderTemplate(n,r,o,e,"replaceNode")})}};t.renderTemplateForEach=function(e,n,i,o,u){var a;var f=function(t,n){a=u["createChildContext"](t,i["as"],function(e){e["$index"]=n});var r=typeof e=="function"?e(t,a):e;return s(null,"ignoreTargetNode",r,a,i)};var l=function(e,t,n){r(t,a);if(i["afterRender"])i["afterRender"](t,e)};return t.dependentObservable(function(){var e=t.utils.unwrapObservable(n)||[];if(typeof e.length=="undefined")e=[e];var r=t.utils.arrayFilter(e,function(e){return i["includeDestroyed"]||e===undefined||e===null||!t.utils.unwrapObservable(e["_destroy"])});t.dependencyDetection.ignore(t.utils.setDomNodeChildrenFromArrayMapping,null,[o,r,f,i,l])},null,{disposeWhenNodeIsRemoved:o})};var o=t.utils.domData.nextKey();t.bindingHandlers["template"]={init:function(e,n){var r=t.utils.unwrapObservable(n());if(typeof r=="string"||r["name"]){t.virtualElements.emptyNode(e)}else{var i=t.virtualElements.childNodes(e),s=t.utils.moveCleanedNodesToContainerElement(i);(new t.templateSources.anonymousTemplate(e))["nodes"](s)}return{controlsDescendantBindings:true}},update:function(e,n,r,i,s){var o=t.utils.unwrapObservable(n()),a={},f=true,l,c=null;if(typeof o!="string"){a=o;o=t.utils.unwrapObservable(a["name"]);if("if"in a)f=t.utils.unwrapObservable(a["if"]);if(f&&"ifnot"in a)f=!t.utils.unwrapObservable(a["ifnot"]);l=t.utils.unwrapObservable(a["data"])}if("foreach"in a){var h=f&&a["foreach"]||[];c=t.renderTemplateForEach(o||e,h,a,e,s)}else if(!f){t.virtualElements.emptyNode(e)}else{var p="data"in a?s["createChildContext"](l,a["as"]):s;c=t.renderTemplate(o||e,p,a,e)}u(e,c)}};t.expressionRewriting.bindingRewriteValidators["template"]=function(e){var n=t.expressionRewriting.parseObjectLiteral(e);if(n.length==1&&n[0]["unknown"])return null;if(t.expressionRewriting.keyValueArrayContainsKey(n,"name"))return null;return"This template engine does not support anonymous templates nested within its templates"};t.virtualElements.allowedBindings["template"]=true})();t.exportSymbol("setTemplateEngine",t.setTemplateEngine);t.exportSymbol("renderTemplate",t.renderTemplate);t.utils.compareArrays=function(){function n(n,i,s){s=typeof s==="boolean"?{dontLimitMoves:s}:s||{};n=n||[];i=i||[];if(n.length<=i.length)return r(n,i,e,t,s);else return r(i,n,t,e,s)}function r(e,t,n,r,i){var s=Math.min,o=Math.max,u=[],a,f=e.length,l,c=t.length,h=c-f||1,p=f+c+1,d,v,m,g;for(a=0;a<=f;a++){v=d;u.push(d=[]);m=s(c,a+h);g=o(0,a-1);for(l=g;l<=m;l++){if(!l)d[l]=a+1;else if(!a)d[l]=l+1;else if(e[a-1]===t[l-1])d[l]=v[l-1];else{var y=v[l]||p;var b=d[l-1]||p;d[l]=s(y,b)+1}}}var w=[],E,S=[],x=[];for(a=f,l=c;a||l;){E=u[a][l]-1;if(l&&E===u[a][l-1]){S.push(w[w.length]={status:n,value:t[--l],index:l})}else if(a&&E===u[a-1][l]){x.push(w[w.length]={status:r,value:e[--a],index:a})}else{--l;--a;if(!i["sparse"]){w.push({status:"retained",value:t[l]})}}}if(S.length&&x.length){var T=f*10,N,C,k,L,A;for(N=C=0;(i["dontLimitMoves"]||N<T)&&(L=S[C]);C++){for(k=0;A=x[k];k++){if(L["value"]===A["value"]){L["moved"]=A["index"];A["moved"]=L["index"];x.splice(k,1);N=k=0;break}}N+=k}}return w.reverse()}var e="added",t="deleted";return n}();t.exportSymbol("utils.compareArrays",t.utils.compareArrays);(function(){function e(e,n,r,i,s){var o=[];var u=t.dependentObservable(function(){var u=n(r,s,t.utils.fixUpContinuousNodeArray(o,e))||[];if(o.length>0){t.utils.replaceDomNodes(o,u);if(i)t.dependencyDetection.ignore(i,null,[r,u,s])}o.splice(0,o.length);t.utils.arrayPushAll(o,u)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!t.utils.anyDomNodeIsAttachedToDocument(o)}});return{mappedNodes:o,dependentObservable:u.isActive()?u:undefined}}var n=t.utils.domData.nextKey();t.utils.setDomNodeChildrenFromArrayMapping=function(r,i,s,o,u){function E(e,n){w=f[n];if(d!==n)y[e]=w;w.indexObservable(d++);t.utils.fixUpContinuousNodeArray(w.mappedNodes,r);h.push(w);m.push(w)}function S(e,n){if(e){for(var r=0,i=n.length;r<i;r++){if(n[r]){t.utils.arrayForEach(n[r].mappedNodes,function(t){e(t,r,n[r].arrayEntry)})}}}}i=i||[];o=o||{};var a=t.utils.domData.get(r,n)===undefined;var f=t.utils.domData.get(r,n)||[];var l=t.utils.arrayMap(f,function(e){return e.arrayEntry});var c=t.utils.compareArrays(l,i,o["dontLimitMoves"]);var h=[];var p=0;var d=0;var v=[];var m=[];var g=[];var y=[];var b=[];var w;for(var x=0,T,N;T=c[x];x++){N=T["moved"];switch(T["status"]){case"deleted":if(N===undefined){w=f[p];if(w.dependentObservable)w.dependentObservable.dispose();v.push.apply(v,t.utils.fixUpContinuousNodeArray(w.mappedNodes,r));if(o["beforeRemove"]){g[x]=w;m.push(w)}}p++;break;case"retained":E(x,p++);break;case"added":if(N!==undefined){E(x,N)}else{w={arrayEntry:T["value"],indexObservable:t.observable(d++)};h.push(w);m.push(w);if(!a)b[x]=w}break}}S(o["beforeMove"],y);t.utils.arrayForEach(v,o["beforeRemove"]?t.cleanNode:t.removeNode);for(var x=0,C=t.virtualElements.firstChild(r),k,L;w=m[x];x++){if(!w.mappedNodes)t.utils.extend(w,e(r,s,w.arrayEntry,u,w.indexObservable));for(var A=0;L=w.mappedNodes[A];C=L.nextSibling,k=L,A++){if(L!==C)t.virtualElements.insertAfter(r,L,k)}if(!w.initialized&&u){u(w.arrayEntry,w.mappedNodes,w.indexObservable);w.initialized=true}}S(o["beforeRemove"],g);S(o["afterMove"],y);S(o["afterAdd"],b);t.utils.domData.set(r,n,h)}})();t.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",t.utils.setDomNodeChildrenFromArrayMapping);t.nativeTemplateEngine=function(){this["allowTemplateRewriting"]=false};t.nativeTemplateEngine.prototype=new t.templateEngine;t.nativeTemplateEngine.prototype.constructor=t.nativeTemplateEngine;t.nativeTemplateEngine.prototype["renderTemplateSource"]=function(e,n,r){var i=!(t.utils.ieVersion<9),s=i?e["nodes"]:null,o=s?e["nodes"]():null;if(o){return t.utils.makeArray(o.cloneNode(true).childNodes)}else{var u=e["text"]();return t.utils.parseHtmlFragment(u)}};t.nativeTemplateEngine.instance=new t.nativeTemplateEngine;t.setTemplateEngine(t.nativeTemplateEngine.instance);t.exportSymbol("nativeTemplateEngine",t.nativeTemplateEngine);(function(){t.jqueryTmplTemplateEngine=function(){function t(){if(e<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function n(e,t,n){return jQuery["tmpl"](e,t,n)}var e=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery["tmpl"])return 0;try{if(jQuery["tmpl"]["tag"]["tmpl"]["open"].toString().indexOf("__")>=0){return 2}}catch(e){}return 1}();this["renderTemplateSource"]=function(e,r,i){i=i||{};t();var s=e["data"]("precompiled");if(!s){var o=e["text"]()||"";o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}";s=jQuery["template"](null,o);e["data"]("precompiled",s)}var u=[r["$data"]];var a=jQuery["extend"]({koBindingContext:r},i["templateOptions"]);var f=n(s,u,a);f["appendTo"](document.createElement("div"));jQuery["fragments"]={};return f};this["createJavaScriptEvaluatorBlock"]=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"};this["addTemplate"]=function(e,t){document.write("<script type='text/html' id='"+e+"'>"+t+"<"+"/script>")};if(e>0){jQuery["tmpl"]["tag"]["ko_code"]={open:"__.push($1 || '');"};jQuery["tmpl"]["tag"]["ko_with"]={open:"with($1) {",close:"} "}}};t.jqueryTmplTemplateEngine.prototype=new t.templateEngine;t.jqueryTmplTemplateEngine.prototype.constructor=t.jqueryTmplTemplateEngine;var e=new t.jqueryTmplTemplateEngine;if(e.jQueryTmplVersion>0)t.setTemplateEngine(e);t.exportSymbol("jqueryTmplTemplateEngine",t.jqueryTmplTemplateEngine)})()})})()})()